<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Prepare an outcome model object for transportGC — transportGCPreparedModel • TransportHealth</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Prepare an outcome model object for transportGC — transportGCPreparedModel"><meta name="description" content="An outcome model needs to be fitted using the study data to perform transportability analysis using g-computation. However, glm and functions in survival typically contain the data used to fit the model in their respective result objects. This function provides the option to remove most components containing the data from these result objects to comply with data sharing regulations. The party with sole access to the study data may use only this function and provide the results object (possibly in a .rds file) to others who request it.
Note that for time-to-event outcomes, survreg should used for the outcome model over coxph because the latter is not meant to produce predicted survival times. The coxph option is provided, but we warn that the computation time might be prohibitive."><meta property="og:description" content="An outcome model needs to be fitted using the study data to perform transportability analysis using g-computation. However, glm and functions in survival typically contain the data used to fit the model in their respective result objects. This function provides the option to remove most components containing the data from these result objects to comply with data sharing regulations. The party with sole access to the study data may use only this function and provide the results object (possibly in a .rds file) to others who request it.
Note that for time-to-event outcomes, survreg should used for the outcome model over coxph because the latter is not meant to produce predicted survival times. The coxph option is provided, but we warn that the computation time might be prohibitive."><meta property="og:image" content="https://coreclinicalsciences.github.io/TransportHealth/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">TransportHealth</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Introduction</h6></li>
    <li><a class="dropdown-item" href="../articles/overview.html">Overview of transportability and generalizability analyses and TransportHealth</a></li>
    <li><a class="dropdown-item" href="../articles/assumptions.html">Assumptions of transportability and generalizability analysis</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Inverse probability methods</h6></li>
    <li><a class="dropdown-item" href="../articles/transportIP.html">Inverse probability or odds weighting-based transportability analysis</a></li>
    <li><a class="dropdown-item" href="../articles/transportIPMath.html">Theory of inverse probability or odds weighting</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>G-computation methods</h6></li>
    <li><a class="dropdown-item" href="../articles/transportGC.html">G-computation-based transportability analysis</a></li>
    <li><a class="dropdown-item" href="../articles/transportGCMath.html">Theory of g-computation</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Target aggregate data adjustment (TADA) methods</h6></li>
    <li><a class="dropdown-item" href="../articles/transportTADA.html">Target aggregate data adjustment transportability analysis</a></li>
    <li><a class="dropdown-item" href="../articles/transportTADAMath.html">Theory of target aggregate data adjustment transportability analysis</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Interpolated g-computation methods</h6></li>
    <li><a class="dropdown-item" href="../articles/transportInterpolated.html">Transportability analysis with interpolated g-computation</a></li>
    <li><a class="dropdown-item" href="../articles/transportInterpolatedMath.html">Theory of interpolated g-computation</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/CoreClinicalSciences/TransportHealth"><span class="fa fa-github"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Prepare an outcome model object for <code>transportGC</code></h1>

      <div class="d-none name"><code>transportGCPreparedModel.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>An outcome model needs to be fitted using the study data to perform transportability analysis using g-computation. However, <code>glm</code> and functions in <code>survival</code> typically contain the data used to fit the model in their respective result objects. This function provides the option to remove most components containing the data from these result objects to comply with data sharing regulations. The party with sole access to the study data may use only this function and provide the results object (possibly in a .rds file) to others who request it.</p>
<p>Note that for time-to-event outcomes, <code>survreg</code> should used for the outcome model over <code>coxph</code> because the latter is not meant to produce predicted survival times. The <code>coxph</code> option is provided, but we warn that the computation time might be prohibitive.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">transportGCPreparedModel</span><span class="op">(</span></span>
<span>  <span class="va">outcomeModel</span>,</span>
<span>  response <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  responseLevels <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">treatment</span>,</span>
<span>  treatmentLevels <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  family <span class="op">=</span> <span class="fu">stats</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/r/stats/family.html" class="external-link">gaussian</a></span>,</span>
<span>  method <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"logistic"</span>, <span class="st">"probit"</span>, <span class="st">"loglog"</span>, <span class="st">"cloglog"</span>, <span class="st">"cauchit"</span><span class="op">)</span>,</span>
<span>  studyData <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  wipe <span class="op">=</span> <span class="cn">T</span>,</span>
<span>  formula <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-outcomemodel">outcomeModel<a class="anchor" aria-label="anchor" href="#arg-outcomemodel"></a></dt>
<dd><p>Either a formula or a <code>glm</code>, <code>survreg</code>, <code>coxph</code>, or <code>polr</code> object representing the outcome model. Please set <code>model = T</code> if providing a fitted model object.</p></dd>


<dt id="arg-response">response<a class="anchor" aria-label="anchor" href="#arg-response"></a></dt>
<dd><p>String indicating name of response variable. If <code>NULL</code>, it will be auto-detected from <code>outcomeModel</code>.</p></dd>


<dt id="arg-responselevels">responseLevels<a class="anchor" aria-label="anchor" href="#arg-responselevels"></a></dt>
<dd><p>For ordinal responses, vector of strings indicating levels of response variable in the study data. If <code>NULL</code> and <code>polr</code> is used, it will be auto-detected using <code>response</code> and <code>studyData</code>.</p></dd>


<dt id="arg-treatment">treatment<a class="anchor" aria-label="anchor" href="#arg-treatment"></a></dt>
<dd><p>String indicating name of treatment variable. This argument is required.</p></dd>


<dt id="arg-treatmentlevels">treatmentLevels<a class="anchor" aria-label="anchor" href="#arg-treatmentlevels"></a></dt>
<dd><p>Vector of strings indicating levels of treatment variable in the study data. If <code>NULL</code>, it will be auto-detected using <code>treatment</code> and <code>studyData</code>.</p></dd>


<dt id="arg-family">family<a class="anchor" aria-label="anchor" href="#arg-family"></a></dt>
<dd><p>Either a family function as used for <code>glm</code>, or one of <code>c("coxph", "survreg")</code>. Only required if <code>outcomeModel</code> is a formula.</p></dd>


<dt id="arg-method">method<a class="anchor" aria-label="anchor" href="#arg-method"></a></dt>
<dd><p>Link function used for <code>polr</code>, one of <code>c("logistic", "probit", "loglog", "cloglog", "cauchit")</code>. Only required if <code>outcomeModel</code> is a formula and <code>polr</code> is used.</p></dd>


<dt id="arg-studydata">studyData<a class="anchor" aria-label="anchor" href="#arg-studydata"></a></dt>
<dd><p>Data frame of the study data.</p></dd>


<dt id="arg-wipe">wipe<a class="anchor" aria-label="anchor" href="#arg-wipe"></a></dt>
<dd><p>Logical indicating whether original study data should be wiped from outcome model-fitting object.</p></dd>


<dt id="arg-formula">formula<a class="anchor" aria-label="anchor" href="#arg-formula"></a></dt>
<dd><p>The formula used to fit outcomeModel, if outcomeModel is provided as a fitted model object. This is necessary to provide only when using <code>coxph</code>, <code>survreg</code> and <code>polr</code> because these objects do not have the formula components.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A <code>transportGCPreparedModel</code> object containing the following components:</p><ul><li><p><code>outcomeModel</code>: The fitted outcome model with all components containing the data used to fit the model removed</p></li>
<li><p><code>response</code>: String indicating name of response variable</p></li>
<li><p><code>treatment</code>: String indicating name of treatment variable</p></li>
<li><p><code>treatmentLevels</code>: Vector of strings indicating levels of treatment variable</p></li>
<li><p><code>family</code>: The <code>family</code> argument provided</p></li>
<li><p><code>wipe</code>: The <code>wipe</code> argument provided</p></li>
<li><p><code>formula</code>: The formula used to fit the outcome model</p></li>
</ul></div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Core Clinical Sciences, Quang Vuong.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

