<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Target aggregate data adjustment transportability analysis • TransportHealth</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Target aggregate data adjustment transportability analysis">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">TransportHealth</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Introduction</h6></li>
    <li><a class="dropdown-item" href="../articles/overview.html">Overview of transportability and generalizability analyses and TransportHealth</a></li>
    <li><a class="dropdown-item" href="../articles/assumptions.html">Assumptions of transportability and generalizability analysis</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Inverse probability methods</h6></li>
    <li><a class="dropdown-item" href="../articles/transportIP.html">Inverse probability or odds weighting-based transportability analysis</a></li>
    <li><a class="dropdown-item" href="../articles/transportIPMath.html">Theory of inverse probability or odds weighting</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>G-computation methods</h6></li>
    <li><a class="dropdown-item" href="../articles/transportGC.html">G-computation-based transportability analysis</a></li>
    <li><a class="dropdown-item" href="../articles/transportGCMath.html">Theory of g-computation</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Target aggregate data adjustment (TADA) methods</h6></li>
    <li><a class="dropdown-item" href="../articles/transportTADA.html">Target aggregate data adjustment transportability analysis</a></li>
    <li><a class="dropdown-item" href="../articles/transportTADAMath.html">Theory of target aggregate data adjustment transportability analysis</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Interpolated g-computation methods</h6></li>
    <li><a class="dropdown-item" href="../articles/transportInterpolated.html">Transportability analysis with interpolated g-computation</a></li>
    <li><a class="dropdown-item" href="../articles/transportInterpolatedMath.html">Theory of interpolated g-computation</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/CoreClinicalSciences/TransportHealth"><span class="fa fa-github"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Target aggregate data adjustment transportability analysis</h1>
                        <h4 data-toc-skip class="author">Core Clinical
Sciences</h4>
            
      

      <div class="d-none name"><code>transportTADA.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>In this vignette, we demonstrate how to use
<code>TransportHealth</code> for weighting-based transportability
analysis when individual participant-level data (IPD) is available for
the original population, while only aggregate-level data (AgD) is
available for the target sample.</p>
<div class="section level3">
<h3 id="brief-introduction-to-target-aggregate-data-adjustment-tada">Brief introduction to Target aggregate data adjustment (TADA)<a class="anchor" aria-label="anchor" href="#brief-introduction-to-target-aggregate-data-adjustment-tada"></a>
</h3>
<p>In transportability and generalizability analysis using target
aggregate data adjustment (TADA), the process differs from traditional
inverse odds of participation weighting (IOPW) or g-computation due to
the absence of individual-level data (IPD) in the target population.
Instead of using logistic regression to obtain weights that balance the
distribution of effect modifiers in the source and target data, TADA
uses a method of moments approach with the aggregate-level data (AgD)
from the target population to account for effect modifiers. This is
combined with the usual propensity score weighting approach to adjust
for confounding in the source data to fit marginal structural
models.</p>
</div>
</div>
<div class="section level2">
<h2 id="example">Example<a class="anchor" aria-label="anchor" href="#example"></a>
</h2>
<p>Suppose we are interested in estimating the causal effect of a
medication on systolic blood pressure in a target population, but we
were only able to conduct an observational study using samples from the
study population. To obtain unbiased causal effect estimates using the
study sample, we account for the following covariates: sex, body fat
percentage, and stress level.</p>
<p>We know that the effectiveness of the medication depends on two
effect modifiers: 1) stress level, and 2) whether patients are taking
another medication.</p>
<p><em>Note that the covariates adjusted for in the study data can also
be effect modifiers.</em></p>
<div class="section level3">
<h3 id="coded-variables">Coded variables:<a class="anchor" aria-label="anchor" href="#coded-variables"></a>
</h3>
<ul>
<li>
<p>Medication - <code>med1</code></p>
<ul>
<li>
<code>1</code> for treated</li>
<li>
<code>0</code> for untreated</li>
</ul>
</li>
<li><p>Systolic blood pressure (SBP) - <code>sysBloodPressure</code>
(continuous)</p></li>
<li>
<p>Sex - <code>sex</code></p>
<ul>
<li>
<code>1</code> for male</li>
<li>
<code>0</code> for female</li>
</ul>
</li>
<li><p>Body fat percentage - <code>percentBodyFat</code>
(continuous)</p></li>
<li>
<p>Stress level - <code>stress</code></p>
<ul>
<li>
<code>1</code> for stressed</li>
<li>
<code>0</code> for not stressed</li>
</ul>
</li>
<li>
<p>Medication 2 - <code>med2</code></p>
<ul>
<li>
<code>1</code> for treated</li>
<li>
<code>0</code> for untreated</li>
</ul>
</li>
</ul>
</div>
<div class="section level3">
<h3 id="analyses">Analyses<a class="anchor" aria-label="anchor" href="#analyses"></a>
</h3>
<p>First, for the implementation of TADA in <code>TransportHealth</code>
specifically, the data from the study and target population should be in
separate data frames in the <code>R</code> environment. The study data
should contain IPS on response, treatment, covariates and effect
modifiers, while the target data should contain only aggregate-level
summary statistics of covariates and effect modifiers. These summary
statistics should be formatted as proportions, counts, means, medians
and standard deviations.</p>
<p>Suppose that we have the study and target data separately as
follows.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">testData</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "studyData"           "aggregateTargetData"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="st">"Study data:"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "Study data:"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">testData</span><span class="op">$</span><span class="va">studyData</span><span class="op">)</span></span>
<span><span class="co">#&gt;   sysBloodPressure med1 sex stress med2 percentBodyFat</span></span>
<span><span class="co">#&gt; 1         105.5173    1   0      0    0       26.84295</span></span>
<span><span class="co">#&gt; 2         107.6679    1   1      0    0       14.66178</span></span>
<span><span class="co">#&gt; 3         116.3453    0   1      1    0       11.16153</span></span>
<span><span class="co">#&gt; 4         116.7964    0   0      1    0       24.93147</span></span>
<span><span class="co">#&gt; 5         117.7243    0   0      1    0       25.77048</span></span>
<span><span class="co">#&gt; 6         117.1051    0   0      0    0       31.19562</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="st">"Target data:"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "Target data:"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">testData</span><span class="op">$</span><span class="va">aggregateTargetData</span><span class="op">)</span></span>
<span><span class="co">#&gt;      N sex_count sex_prop stress_prop med2_PROP percentBodyFat_mean</span></span>
<span><span class="co">#&gt; 1 1500       474     0.93   0.6966667     0.302            22.14501</span></span>
<span><span class="co">#&gt;   percentBodyFat_sd percentBodyFat_median</span></span>
<span><span class="co">#&gt; 1          5.857062               24.6448</span></span></code></pre></div>
<p>Here for the target data, the names of the aggregate level statistics
corresponding to each variable should be formatted as follows.</p>
<ul>
<li><p>For continuous variables, the mean of a given variable should be
named <code>variable_mean</code>, the standard deviation should be named
<code>variable_sd</code>, and the median should be named
<code>variable_median</code>.</p></li>
<li><p>The proportion or count of a binary variable can be named
<code>variable_prop</code> or <code>variable_count</code>, respectively
(corresponding to the non-reference category in the study data).
<!-- What do you mean by labelled as 1? Do you mean the reference? --></p></li>
<li><p>The naming method of categorical variables (with more than two
levels) is specified as <code>variable_category_AgD</code>. For example,
for an ordinal variable <code>grade</code> with three categories (low,
medium and high), the proportions of each category recorded in the
target data should be named <code>grade_low_prop</code>,
<code>grade_medium_prop</code> and <code>grade_high_prop</code>. This is
just to demonstrate the naming format for categorical variables; there
are no categorical variables in this example.</p></li>
</ul>
<p>We can now perform transportability analysis using TADA with the
<code>transportTADA</code> functions.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/transportTADA.html">transportTADA</a></span><span class="op">(</span><span class="va">msmFormula</span>, </span>
<span>              <span class="va">propensityScoreModel</span>,</span>
<span>              <span class="va">matchingCovariates</span>,</span>
<span>              <span class="va">propensityWeights</span>,</span>
<span>              <span class="va">participationWeights</span>,</span>
<span>              <span class="va">treatment</span>,</span>
<span>              <span class="va">response</span>,</span>
<span>              <span class="va">family</span>,</span>
<span>              <span class="va">studyData</span>,</span>
<span>              <span class="va">aggregateTargetData</span><span class="op">)</span></span></code></pre></div>
<div class="section level4">
<h4 id="arguments-for-the-transporttada-function">Arguments for the <code>transportTADA</code> function<a class="anchor" aria-label="anchor" href="#arguments-for-the-transporttada-function"></a>
</h4>
<p>This function requires specification of the following arguments:</p>
<ul>
<li><p><code>msmFormula</code>: A formula expressing the marginal
structural model (MSM) to be fit.</p></li>
<li><p><code>propensityScoreModel</code>: A formula or a
<code>glm</code> object expressing the propensity model, i.e. a model of
treatment assignment in terms of covariates.</p></li>
</ul>
<p>If a formula is provided, logistic regression is used by default.
Custom propensity weights from other weighting methods can also be
provided to the <code>customPropensity</code> argument instead; in this
case, do not set <code>propensityScoreModel</code> because it is
<code>NULL</code> by default and will be overridden. Note that as IPD is
available for the study data, it is still possible to use logistic
regression to estimate propensity scores.</p>
<ul>
<li><p><code>matchingCovariates</code>: A vector of user-specified
covariates which are used for the data matching to obtain participation
weights when no custom weights provided.</p></li>
<li><p><code>propensityWeights</code>: A vector of custom weights
balancing covariates between treatments. Providing them will override
the formula or model provided by <code>propensityScoreModel</code>. This
vector should have as any entries as the sample size of the study
data.</p></li>
<li><p><code>participationWeights</code>: A vector of custom weights
balancing effect modifiers between study and target populations. This
vector should have as any entries as the sample size of the study
data.</p></li>
<li><p><code>treatment</code>: The name of the variable indicating
treatment.</p></li>
<li><p><code>response</code>: The name of the variable indicating
response.</p></li>
<li><p><code>family</code>: The type of outcome model to be fit. This
can be any of the families used in <code>glm</code>, one of
<code>"coxph"</code> or <code>"survreg"</code>. The <code>"coxph"</code>
and <code>"survreg"</code> options are for survival analysis and will
use default options of these methods from the <code>survival</code>
package.</p></li>
<li><p><code>studyData</code>: The individual participant data (IPD) of
study population.</p></li>
<li><p><code>aggregateTargetData</code>: The aggregate-level data (AgD)
of target population.</p></li>
</ul>
</div>
<div class="section level4">
<h4 id="specification-of-transportability-analysis">Specification of transportability analysis<a class="anchor" aria-label="anchor" href="#specification-of-transportability-analysis"></a>
</h4>
<p>These components are put together as follows.</p>
<p>Recall that: - <code>sysBloodPressure</code> is the response</p>
<ul>
<li><p><code>med1</code> is the treatment</p></li>
<li><p><code>sex</code>, <code>percentBodyFat</code>,
<code>toxicGrade</code>, and <code>stress</code> are covariates to be
controlled in the original study</p></li>
<li><p><code>med2</code> (other medication) and <code>stress</code> are
effect modifiers of interest.</p></li>
</ul>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">result</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/transportTADA.html">transportTADA</a></span><span class="op">(</span></span>
<span>  <span class="co"># MSM formula</span></span>
<span>  msmFormula <span class="op">=</span> <span class="va">sysBloodPressure</span> <span class="op">~</span> <span class="va">med1</span>,</span>
<span>  </span>
<span>  <span class="co"># Propensity model</span></span>
<span>  propensityScoreModel <span class="op">=</span> <span class="va">med1</span> <span class="op">~</span> <span class="va">sex</span> <span class="op">+</span> <span class="va">percentBodyFat</span> <span class="op">+</span> <span class="va">stress</span>,</span>
<span>  </span>
<span>  <span class="co"># Matching covariates</span></span>
<span>  matchingCovariates <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"stress"</span>, <span class="st">"med2"</span><span class="op">)</span>,</span>
<span>  </span>
<span>  <span class="co"># Name of treatment variable</span></span>
<span>  treatment <span class="op">=</span> <span class="st">"med1"</span>, </span>
<span>  </span>
<span>  <span class="co"># Name of response variable</span></span>
<span>  response <span class="op">=</span> <span class="st">"sysBloodPressure"</span>,</span>
<span>  </span>
<span>  <span class="co"># Type of MSM</span></span>
<span>  family <span class="op">=</span> <span class="va">gaussian</span>,</span>
<span>  </span>
<span>  <span class="co"># Study data</span></span>
<span>  studyData <span class="op">=</span> <span class="va">testData</span><span class="op">$</span><span class="va">studyData</span>,</span>
<span>  </span>
<span>  <span class="co"># Target data</span></span>
<span>  aggregateTargetData <span class="op">=</span> <span class="va">testData</span><span class="op">$</span><span class="va">aggregateTargetData</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning in processedAgD(aggregateTargetData): Following columns are ignored</span></span>
<span><span class="co">#&gt; since it does not follow the naming conventions:N</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="producing-statistical-results">Producing statistical results<a class="anchor" aria-label="anchor" href="#producing-statistical-results"></a>
</h4>
<p>To show the results of the analysis, we can use the
<code><a href="https://rdrr.io/r/base/summary.html" class="external-link">base::summary</a></code> function, similar to how one would use the
<code>lm</code> function for fitting a linear model.</p>
<p>The <code><a href="https://rdrr.io/r/base/summary.html" class="external-link">base::summary</a></code> function prints out a table of
unweighted and weighted SMDs of covariates between treatment groups, a
pre-post weighting table which includes unweighted and weighted
aggregate level summary as well as pre- and post- difference values of
effect modifiers of interest between study data and target data, and
summaries of the fitted outcome model and the final marginal structural
model (MSM) fit with the correct standard errors calculated using
bootstrap.</p>
<p>Note that scientific conclusions should only be drawn from the
MSM.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">result</span><span class="op">)</span></span>
<span><span class="co">#&gt; Absolute SMDs of covariates between treatments before and after weighting:</span></span>
<span><span class="co">#&gt;                       variable         smd   method</span></span>
<span><span class="co">#&gt; sex                        sex 0.294175794 Observed</span></span>
<span><span class="co">#&gt; percentBodyFat  percentBodyFat 0.300317047 Observed</span></span>
<span><span class="co">#&gt; stress                  stress 0.072111181 Observed</span></span>
<span><span class="co">#&gt; sex1                       sex 0.001101437 Weighted</span></span>
<span><span class="co">#&gt; percentBodyFat1 percentBodyFat 0.001912183 Weighted</span></span>
<span><span class="co">#&gt; stress1                 stress 0.003064457 Weighted</span></span>
<span><span class="co">#&gt; Aggregate level data summary of effect modifiers of interests before and after weighting:</span></span>
<span><span class="co">#&gt;   Effect Modifiers Study (N = 1000) Target (N = 1500) Study (Post-Weighting)</span></span>
<span><span class="co">#&gt; 1        MED2_PROP            0.086             0.302                  0.299</span></span>
<span><span class="co">#&gt; 2      STRESS_PROP            0.415             0.697                  0.701</span></span>
<span><span class="co">#&gt;   Pre Weighting Difference Post Weighting Difference</span></span>
<span><span class="co">#&gt; 1                    0.216                     0.003</span></span>
<span><span class="co">#&gt; 2                    0.282                    -0.004</span></span>
<span><span class="co">#&gt; MSM results:</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Call:</span></span>
<span><span class="co">#&gt; stats::glm(formula = msmFormula, family = family, data = toAnalyze, </span></span>
<span><span class="co">#&gt;     weights = finalWeights)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Coefficients:</span></span>
<span><span class="co">#&gt;             Estimate Std. Error t value Pr(&gt;|t|)    </span></span>
<span><span class="co">#&gt; (Intercept)  115.856      0.192   604.8   &lt;2e-16 ***</span></span>
<span><span class="co">#&gt; med11         -0.763      0.696    -1.1     0.27    </span></span>
<span><span class="co">#&gt; ---</span></span>
<span><span class="co">#&gt; Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; (Dispersion parameter for gaussian family taken to be 14.60882)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     Null deviance: 14681  on 999  degrees of freedom</span></span>
<span><span class="co">#&gt; Residual deviance: 14580  on 998  degrees of freedom</span></span>
<span><span class="co">#&gt; AIC: 6800</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Number of Fisher Scoring iterations: 2</span></span></code></pre></div>
<p><strong>Positivity</strong> and <strong>conditional
exchangeability</strong> are two key assumptions that can affect the
validity of transportability analysis.</p>
<p><code>Positivity</code> is the assumption that at all observed levels
of covariates and effect modifiers, the probabilities of being in the
treatment group and being the study are neither 0 nor 1,
respectively.</p>
<p>To evaluate this assumption for the treatment assignment, use the
<code>plot</code> function with <code>type = "propensityHist"</code>.
This outputs mirrored histogram of probabilities of being in the
treatment group for different treatment groups. Non-overlap of the
ranges of the histograms suggest violations of the positivity assumption
<span class="citation">(Wizard, n.d.b)</span>.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">base</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/base/plot.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">result</span>, type <span class="op">=</span> <span class="st">"propensityHist"</span><span class="op">)</span></span></code></pre></div>
<p><img src="transportTADA_files/figure-html/TADA-prop-hist-1.png" width="700"></p>
<p>The <code>plot</code> function with
<code>type = "participationHist"</code> provides the histogram of
participation weights and the effective sample size (ESS), which can be
used to assess the suitability of the TADA method. For example, the
presence of extreme weights or a large reduction in effective sample
size may indicate that the assumptions for TADA are violated.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">base</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/base/plot.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">result</span>, type <span class="op">=</span> <span class="st">"participationHist"</span><span class="op">)</span></span></code></pre></div>
<p><img src="transportTADA_files/figure-html/TADA-part-hist-1.png" width="700"></p>
<p><code>Conditional exchangeability</code> is roughly the assumption
that the only possible confounding is due to the controlled covariates
and effect modifiers. Under this assumption, TADA estimates will be
reliable if the weighted distributions of covariates and effect
modifiers are similar between treatment groups and the study data,
respectively. This can be (partially) evaluated using standardized mean
differences (SMDs), which are shown in table form by the
<code>summary</code> function. The <code>plot</code> function with
<code>type = "propensitySMD"</code> provides graphical versions of this
table. A general guideline is that an SMD of below 0.1 indicates
balance, but this threshold is arbitrary and left to the choice of the
analyst <span class="citation">(Wizard, n.d.a)</span>.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">base</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/base/plot.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">result</span>, type <span class="op">=</span> <span class="st">"propensitySMD"</span><span class="op">)</span></span></code></pre></div>
<p><img src="transportTADA_files/figure-html/TADA-smd-1.png" width="700"></p>
<p>Model coefficient plots showing confidence intervals of the effect
estimates are provided by <code>plot</code> function with
<code>type = "msm"</code>. The standard errors are the correct ones
calculated by bootstrap.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">base</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/base/plot.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">result</span>, type <span class="op">=</span> <span class="st">"msm"</span><span class="op">)</span></span></code></pre></div>
<p><img src="transportTADA_files/figure-html/TADA-msm-1.png" width="700"></p>
<p>Note that all plot outputs are designed to be generated with
<code>ggplot2</code>. They can be customized further.</p>
</div>
</div>
<div class="section level3">
<h3 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h3>
<div id="refs" class="references csl-bib-body hanging-indent" entry-spacing="0">
<div id="ref-balance" class="csl-entry">
Wizard, Causal. n.d.a. <span>“Covariate Balance.”</span> <a href="https://causalwizard.app/inference/article/covariate-balance" class="external-link">https://causalwizard.app/inference/article/covariate-balance</a>.
</div>
<div id="ref-positivity" class="csl-entry">
———. n.d.b. <span>“The Positivity Assumption.”</span> <a href="https://causalwizard.app/inference/article/positivity" class="external-link">https://causalwizard.app/inference/article/positivity</a>.
</div>
</div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Core Clinical Sciences, Quang Vuong.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
